<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <title>Usuários</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body style="background: linear-gradient(135deg, #74ebd5 0%, #ACB6E5 100%);">
<nav class="navbar navbar-expand-lg" style="background: linear-gradient(90deg, #007bff, #6f42c1);">
  <div class="container-fluid">
    <a class="navbar-brand text-white" href="#">Usuários</a>
    <div class="ms-auto d-flex gap-2">
      <a class="btn btn-outline-light btn-sm" href="{% url 'logout' %}">Sair</a>
      <a class="btn btn-light btn-sm" href="{% url 'usuario_novo' %}">+ Novo usuário</a>
    </div>
  </div>
</nav>


<div class="container my-4">
  {% if messages %}
    {% for message in messages %}
      <div class="alert {% if message.tags %}alert-{{ message.tags }}{% else %}alert-info{% endif %} py-2">
        {{ message }}
      </div>
    {% endfor %}
  {% endif %}

  <div class="table-responsive shadow rounded">
    <table class="table table-striped mb-0" style="background:#ffffffcc;">
      <thead class="table-light">
        <tr>
          <th>Id</th>
          <th>Nome</th>
          <th>Idade</th>
          <th>E-mail</th>
          <th>Telefone</th>
          <th>CEP</th>
          <th>Endereço</th>
          <th>Bairro</th>
          <th>Cidade</th>
          <th>UF</th>
          <th style="width:160px;">Ações</th>
        </tr>
      </thead>
      <tbody>
        {% for usuario in usuarios %}
          <tr>
            <td>{{ usuario.id_usuario }}</td>
            <td>{{ usuario.nome }}</td>
            <td>{{ usuario.idade }}</td>
            <td>{{ usuario.email|default:"—" }}</td>
            <td>{{ usuario.telefone|default:"—" }}</td>
            <td>{{ usuario.cep|default:"—" }}</td>
            <td>{{ usuario.logradouro|default:"—" }}</td>
            <td>{{ usuario.bairro|default:"—" }}</td>
            <td>{{ usuario.cidade|default:"—" }}</td>
            <td>{{ usuario.uf|default:"—" }}</td>
            <td class="d-flex gap-2">
              <a class="btn btn-sm btn-outline-primary" href="{% url 'usuario_editar' pk=usuario.id_usuario %}">Editar</a>


              <a class="btn btn-sm btn-outline-danger" href="{% url 'usuario_excluir' pk=usuario.id_usuario %}">Excluir</a>

            </td>
          </tr>
        {% empty %}
          <tr>
            <td colspan="11" class="text-center">Nenhum usuário cadastrado.</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
